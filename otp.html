<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify OTP (UI Only)</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: { primary: '#4F46E5', 'primary-dark': '#4338CA' }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F5F5F5;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .glass-card {
            background: rgba(255,255,255,0.8);
            border: 1px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1),
                        0 5px 15px rgba(0,0,0,0.05);
        }

        .otp-input {
            width: 100%;
            height: 3.5rem;
            text-align: center;
            font-size: 1.5rem;
            border: 1px solid #D1D5DB;
            border-radius: 0.5rem;
            transition: 0.2s;
        }
        .otp-input:focus {
            border-color: #4F46E5;
            box-shadow: 0 0 0 3px rgba(79,70,229,0.2);
            outline: none;
        }
    </style>
</head>

<body class="font-sans">

    <div class="glass-card w-full max-w-sm p-6 sm:p-8">
        <div class="text-center mb-6">
            <div class="mx-auto flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 shadow-lg">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="white" viewBox="0 0 24 24" stroke-width="2" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
                </svg>
            </div>

            <h1 class="mt-4 text-2xl font-bold text-gray-900">Verify Code</h1>
            <p class="text-sm text-gray-600 mt-1">
                Enter the 6-digit code sent to <strong>09 XXXXXXXX</strong>
            </p>
        </div>

        <form id="otp-form" class="space-y-6">
            <!-- OTP Boxes -->
            <div class="grid grid-cols-6 gap-2">
                <input type="tel" maxlength="1" class="otp-input" data-index="0" autofocus>
                <input type="tel" maxlength="1" class="otp-input" data-index="1">
                <input type="tel" maxlength="1" class="otp-input" data-index="2">
                <input type="tel" maxlength="1" class="otp-input" data-index="3">
                <input type="tel" maxlength="1" class="otp-input" data-index="4">
                <input type="tel" maxlength="1" class="otp-input" data-index="5">
            </div>

            <div id="msg" class="hidden text-center text-sm font-semibold p-2 rounded-lg"></div>

            <!-- Timer -->
            <p id="timer" class="text-center text-sm text-gray-700">
                Resend code in <span id="countdown">60</span>s
            </p>

            <button type="button" id="resend-btn" class="hidden w-full text-primary-dark font-semibold text-sm">
                Resend Code
            </button>

            <button id="verify-btn" disabled
                class="w-full py-3 rounded-lg bg-primary text-white text-lg font-bold hover:bg-primary-dark disabled:bg-gray-400 disabled:cursor-not-allowed">
                Verify
            </button>
        </form>
    </div>

    <script>
        const otpInputs = document.querySelectorAll('.otp-input');
        const verifyBtn = document.getElementById('verify-btn');
        const msg = document.getElementById('msg');
        const countdownEl = document.getElementById('countdown');
        const resendBtn = document.getElementById('resend-btn');
        const timer = document.getElementById('timer');

        const CORRECT = "123456"; // UI-only fake OTP

        /* ---- OTP Input Behaviour ---- */
        otpInputs.forEach((input, i) => {
            input.addEventListener("input", () => {
                if (input.value.length === 1 && i < 5)
                    otpInputs[i + 1].focus();

                checkFilled();
            });

            input.addEventListener("keydown", e => {
                if (e.key === "Backspace" && !input.value && i > 0)
                    otpInputs[i - 1].focus();
            });
        });

        function checkFilled() {
            const complete = [...otpInputs].every(i => i.value.length === 1);
            verifyBtn.disabled = !complete;
        }

        /* ---- Countdown ---- */
        let sec = 60;
        const interval = setInterval(() => {
            sec--;
            countdownEl.textContent = sec;

            if (sec <= 0) {
                clearInterval(interval);
                timer.classList.add("hidden");
                resendBtn.classList.remove("hidden");
            }
        }, 1000);

        resendBtn.addEventListener("click", () => {
            msgBox("New code sent!", "blue");
            resendBtn.classList.add("hidden");
            timer.classList.remove("hidden");
            sec = 60;
        });

        /* ---- Verify ---- */
        document.getElementById('otp-form').addEventListener('submit', e => e.preventDefault());

        verifyBtn.addEventListener("click", () => {
            const code = [...otpInputs].map(i => i.value).join("");

            if (code === CORRECT) {
                msgBox("Verified! Redirectingâ€¦", "green");
                setTimeout(() => {
                    window.location.href = "profile.html"; // next step
                }, 800);
            } else {
                msgBox("Invalid code. Try again.", "red");
            }
        });

        function msgBox(text, color) {
            msg.textContent = text;
            msg.classList.remove("hidden");

            msg.className = "text-center text-sm font-semibold p-2 rounded-lg mt-2";

            if (color === "green") msg.classList.add("bg-green-100", "text-green-800");
            if (color === "red") msg.classList.add("bg-red-100", "text-red-800");
            if (color === "blue") msg.classList.add("bg-blue-100", "text-blue-800");
        }
    </script>

</body>
</html>
